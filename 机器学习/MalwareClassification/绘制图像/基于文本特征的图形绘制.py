# coding:utf-8
import pandas as pd
import matplotlib
import matplotlib.pyplot as plt

# 设置字体
font = {'family': 'MicroSoft YaHei',
        'size': 11
        }
matplotlib.rc("font", **font)

classification_color = pd.read_csv('../CSV/paint_text.csv',encoding='gb2312')
column0_array = classification_color.iloc[:, 0].values.tolist()
accuracy=classification_color.iloc[:, 1].values.tolist()
accuracy=[round(x * 100, 2) for x in accuracy]
# 设置画布
plt.figure(figsize=(16, 8), dpi=80)
# 描点画图--竖着的条形图
plt.bar(column0_array, accuracy,color="orange",width=0.3)
#添加数值
for i, v in enumerate(accuracy):
    plt.text(i, v + 0.5, str(v)+"%", ha='center', va='bottom')
# 添加描述信息
plt.ylabel("Accuracy(%)",fontsize=12, labelpad=10)
plt.xlabel("分类算法",position=(0, -0.2), fontsize=12, labelpad=10)
plt.title("基于文本特征的恶意代码分类正确率示意图")

plt.show()